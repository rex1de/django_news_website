
{% extends 'main/base.html' %}
{%load static%}
    {% block title %}{{news.title}}{% endblock title %}
    {% block content %}
    <p class="h1">{{news.title}}</p>
    <p><small>{{news.created}}</small></p>
    <p class="h5">{{news.description}}</p>
    <p class="h5 mb-5">{{news.text}}</p>
    <img class="news-image mb-5" src="{{news.image.url}}" alt="">
    <div class="toast-container position-static mb-5">
      {% for comment in comments %}
      <div class="toast show" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
          <a href="{{comment.author.profile.get_absolute_url}}"><strong class="me-auto">{{comment.author}}</strong></a>
          <small class="text-body-secondary">{{comment.created}}</small>
        </div>
        <div class="toast-body">
          {{comment.text}}
        </div>
      </div>
    {% endfor %}
    </div>
    {% if user.is_authenticated %}
    <form action="{% url 'comments:post_comment' id=news.id slug=news.slug %}" method="POST" style="width: 400px;">
          <div class="mb-3">
            <label for="exampleFormControlTextarea1" class="form-label">Текст комментария</label>
            <textarea class="form-control" name="comment_text" id="exampleFormControlTextarea1" rows="3" style="resize: none;"></textarea>
          </div>
          <button type="submit" class="btn btn-primary btn-lg mb-5">Отправить комментарий</button>
          {% csrf_token %}
    </form>
    {% endif %}
    {% endblock content %}


